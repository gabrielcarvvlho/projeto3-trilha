{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/%C3%81rea%20de%20Trabalho/programa%C3%A7%C3%A3o/trilha/projeto3-trilha/front/src/services/api.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// Funções de Autenticação\r\nexport const loginUser = async (username: string, password: string) => {\r\n  try {\r\n    const response = await api.post(\"/users/login\", { username, password });\r\n    return {\r\n      success: true,\r\n      data: response.data,\r\n      message: response.data.message || \"Login bem-sucedido!\"\r\n    };\r\n  } catch (error: any) {\r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.detail || \"Erro ao fazer login\"\r\n    };\r\n  }\r\n};\r\n\r\nexport const registerUser = async (username: string, password: string) => {\r\n  try {\r\n    const response = await api.post(\"/users/register\", { username, password });\r\n    return {\r\n      success: true,\r\n      data: response.data,\r\n      message: \"Registro bem-sucedido!\"\r\n    };\r\n  } catch (error: any) {\r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.detail || \"Erro ao registrar usuário\"\r\n    };\r\n  }\r\n};\r\n\r\n// Funções de Posts\r\nexport const getPosts = async () => {\r\n  try {\r\n    const response = await api.get(\"/posts\");\r\n    return response.data;\r\n  } catch (error: any) {\r\n    throw new Error(error.response?.data?.detail || \"Failed to fetch posts\");\r\n  }\r\n};\r\n\r\nexport const createPost = async (content: string, userId: number) => {\r\n  try {\r\n    const response = await api.post(\"/posts\", {\r\n      content,\r\n      user_id: userId\r\n    });\r\n    return response.data;\r\n  } catch (error: any) {\r\n    throw new Error(error.response?.data?.detail || \"Failed to create post\");\r\n  }\r\n};\r\n\r\nexport const handleReaction = async (postId: number, userId: number, type: 'like' | 'dislike') => {\r\n  try {\r\n    const response = await api.post(`/posts/${postId}/react`, {\r\n      user_id: userId,\r\n      type\r\n    });\r\n    return response.data;\r\n  } catch (error: any) {\r\n    throw new Error(error.response?.data?.detail || \"Failed to add reaction\");\r\n  }\r\n};\r\n\r\n// Interceptor para adicionar token de autenticação (opcional)\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"authToken\");\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\nexport default api;"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS,6DAAmC;IAC5C,SAAS;QACP,gBAAgB;IAClB;AACF;AAGO,MAAM,YAAY,OAAO,UAAkB;IAChD,IAAI;QACF,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,gBAAgB;YAAE;YAAU;QAAS;QACrE,OAAO;YACL,SAAS;YACT,MAAM,SAAS,IAAI;YACnB,SAAS,SAAS,IAAI,CAAC,OAAO,IAAI;QACpC;IACF,EAAE,OAAO,OAAY;QACnB,OAAO;YACL,SAAS;YACT,SAAS,MAAM,QAAQ,EAAE,MAAM,UAAU;QAC3C;IACF;AACF;AAEO,MAAM,eAAe,OAAO,UAAkB;IACnD,IAAI;QACF,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,mBAAmB;YAAE;YAAU;QAAS;QACxE,OAAO;YACL,SAAS;YACT,MAAM,SAAS,IAAI;YACnB,SAAS;QACX;IACF,EAAE,OAAO,OAAY;QACnB,OAAO;YACL,SAAS;YACT,SAAS,MAAM,QAAQ,EAAE,MAAM,UAAU;QAC3C;IACF;AACF;AAGO,MAAM,WAAW;IACtB,IAAI;QACF,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAY;QACnB,MAAM,IAAI,MAAM,MAAM,QAAQ,EAAE,MAAM,UAAU;IAClD;AACF;AAEO,MAAM,aAAa,OAAO,SAAiB;IAChD,IAAI;QACF,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,UAAU;YACxC;YACA,SAAS;QACX;QACA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAY;QACnB,MAAM,IAAI,MAAM,MAAM,QAAQ,EAAE,MAAM,UAAU;IAClD;AACF;AAEO,MAAM,iBAAiB,OAAO,QAAgB,QAAgB;IACnE,IAAI;QACF,MAAM,WAAW,MAAM,IAAI,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,MAAM,CAAC,EAAE;YACxD,SAAS;YACT;QACF;QACA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAY;QACnB,MAAM,IAAI,MAAM,MAAM,QAAQ,EAAE,MAAM,UAAU;IAClD;AACF;AAEA,8DAA8D;AAC9D,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/%C3%81rea%20de%20Trabalho/programa%C3%A7%C3%A3o/trilha/projeto3-trilha/front/src/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { loginUser, registerUser } from \"../services/api\";\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const [form, setForm] = useState({\r\n    username: \"\",\r\n    password: \"\"\r\n  });\r\n  const [message, setMessage] = useState({ text: \"\", isError: false });\r\n  const [showRegister, setShowRegister] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setForm({\r\n      ...form,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setMessage({ text: \"\", isError: false });\r\n\r\n    try {\r\n      if (showRegister) {\r\n        const result = await registerUser(form.username, form.password);\r\n        if (result.success) {\r\n          setMessage({ text: result.message, isError: false });\r\n          setShowRegister(false);\r\n          setForm({ username: \"\", password: \"\" });\r\n        } else {\r\n          setMessage({ text: result.message, isError: true });\r\n        }\r\n      } else {\r\n        const result = await loginUser(form.username, form.password);\r\n        if (result.success) {\r\n          localStorage.setItem(\"currentUser\", JSON.stringify({\r\n            id: result.user_id,\r\n            username: form.username\r\n          }));\r\n          router.push(\"/home\");\r\n        } else {\r\n          setMessage({ text: result.message, isError: true });\r\n        }\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-900\">\r\n      <div className=\"bg-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md\">\r\n        <h1 className=\"text-2xl font-bold mb-4 text-white\">\r\n          {showRegister ? \"Registrar\" : \"Login\"}\r\n        </h1>\r\n        \r\n        {message.text && (\r\n          <div className={`mb-4 p-2 rounded text-center ${\r\n            message.isError ? \"bg-red-700 text-red-200\" : \"bg-green-700 text-green-200\"\r\n          }`}>\r\n            {message.text}\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            placeholder=\"Usuário\"\r\n            value={form.username}\r\n            onChange={handleChange}\r\n            className=\"w-full p-2 mb-4 border rounded bg-gray-700 text-white placeholder-gray-400\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Senha\"\r\n            value={form.password}\r\n            onChange={handleChange}\r\n            className=\"w-full p-2 mb-4 border rounded bg-gray-700 text-white placeholder-gray-400\"\r\n            required\r\n          />\r\n          \r\n          <div className=\"flex justify-between\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isLoading}\r\n              className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:bg-gray-500\"\r\n            >\r\n              {isLoading ? \"Processando...\" : showRegister ? \"Registrar\" : \"Entrar\"}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => {\r\n                setShowRegister(!showRegister);\r\n                setMessage({ text: \"\", isError: false });\r\n              }}\r\n              className=\"text-gray-300 hover:underline\"\r\n            >\r\n              {showRegister ? \"Já tem conta? Login\" : \"Criar nova conta\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAC/B,UAAU;QACV,UAAU;IACZ;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,MAAM;QAAI,SAAS;IAAM;IAClE,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,eAAe,CAAC;QACpB,QAAQ;YACN,GAAG,IAAI;YACP,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QACjC;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,aAAa;QACb,WAAW;YAAE,MAAM;YAAI,SAAS;QAAM;QAEtC,IAAI;YACF,IAAI,cAAc;gBAChB,MAAM,SAAS,MAAM,CAAA,GAAA,sHAAA,CAAA,eAAY,AAAD,EAAE,KAAK,QAAQ,EAAE,KAAK,QAAQ;gBAC9D,IAAI,OAAO,OAAO,EAAE;oBAClB,WAAW;wBAAE,MAAM,OAAO,OAAO;wBAAE,SAAS;oBAAM;oBAClD,gBAAgB;oBAChB,QAAQ;wBAAE,UAAU;wBAAI,UAAU;oBAAG;gBACvC,OAAO;oBACL,WAAW;wBAAE,MAAM,OAAO,OAAO;wBAAE,SAAS;oBAAK;gBACnD;YACF,OAAO;gBACL,MAAM,SAAS,MAAM,CAAA,GAAA,sHAAA,CAAA,YAAS,AAAD,EAAE,KAAK,QAAQ,EAAE,KAAK,QAAQ;gBAC3D,IAAI,OAAO,OAAO,EAAE;oBAClB,aAAa,OAAO,CAAC,eAAe,KAAK,SAAS,CAAC;wBACjD,IAAI,OAAO,OAAO;wBAClB,UAAU,KAAK,QAAQ;oBACzB;oBACA,OAAO,IAAI,CAAC;gBACd,OAAO;oBACL,WAAW;wBAAE,MAAM,OAAO,OAAO;wBAAE,SAAS;oBAAK;gBACnD;YACF;QACF,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BACX,eAAe,cAAc;;;;;;gBAG/B,QAAQ,IAAI,kBACX,8OAAC;oBAAI,WAAW,CAAC,6BAA6B,EAC5C,QAAQ,OAAO,GAAG,4BAA4B,+BAC9C;8BACC,QAAQ,IAAI;;;;;;8BAIjB,8OAAC;oBAAK,UAAU;;sCACd,8OAAC;4BACC,MAAK;4BACL,MAAK;4BACL,aAAY;4BACZ,OAAO,KAAK,QAAQ;4BACpB,UAAU;4BACV,WAAU;4BACV,QAAQ;;;;;;sCAEV,8OAAC;4BACC,MAAK;4BACL,MAAK;4BACL,aAAY;4BACZ,OAAO,KAAK,QAAQ;4BACpB,UAAU;4BACV,WAAU;4BACV,QAAQ;;;;;;sCAGV,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAK;oCACL,UAAU;oCACV,WAAU;8CAET,YAAY,mBAAmB,eAAe,cAAc;;;;;;8CAE/D,8OAAC;oCACC,MAAK;oCACL,SAAS;wCACP,gBAAgB,CAAC;wCACjB,WAAW;4CAAE,MAAM;4CAAI,SAAS;wCAAM;oCACxC;oCACA,WAAU;8CAET,eAAe,wBAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOtD","debugId":null}}]
}