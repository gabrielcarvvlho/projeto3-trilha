{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joaov/OneDrive/%C3%81rea%20de%20Trabalho/programa%C3%A7%C3%A3o/trilha/projeto3-trilha/front/src/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Image from \"next/image\";\r\n\r\ninterface Post {\r\n  id: number;\r\n  content: string;\r\n  user_id: number;\r\n  image_url?: string;\r\n  likes: number;\r\n  dislikes: number;\r\n}\r\n\r\nexport default function Home() {\r\n  const [posts, setPosts] = useState<Post[]>([]);\r\n  const [newPost, setNewPost] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetch(`${process.env.NEXT_PUBLIC_API_URL}/posts/feed`)\r\n      .then((response) => response.json())\r\n      .then((data) => setPosts(data))\r\n      .catch((error) => console.error(\"Error fetching posts:\", error));\r\n  }, []);\r\n\r\n  const handleCreatePost = () => {\r\n    fetch(`${process.env.NEXT_PUBLIC_API_URL}/posts`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ content: newPost }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setPosts((prevPosts) => [data, ...prevPosts]);\r\n        setNewPost(\"\");\r\n      })\r\n      .catch((error) => console.error(\"Error creating post:\", error));\r\n  };\r\n\r\n  const handleLike = (postId: number) => {\r\n    fetch(`${process.env.NEXT_PUBLIC_API_URL}/posts/${postId}/like`, {\r\n      method: \"POST\",\r\n    })\r\n      .then(() => {\r\n        setPosts((prevPosts) =>\r\n          prevPosts.map((post) =>\r\n            post.id === postId ? { ...post, likes: post.likes + 1 } : post\r\n          )\r\n        );\r\n      })\r\n      .catch((error) => console.error(\"Error liking post:\", error));\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-200 text-gray-800 dark:bg-gray-800 dark:text-gray-200\">\r\n      <header className=\"bg-gray-300 dark:bg-gray-700 shadow-md p-4 flex items-center justify-between\">\r\n        <h1 className=\"text-xl font-bold\">Trilhagram</h1>\r\n      </header>\r\n\r\n      <main className=\"p-4 sm:p-8\">\r\n        <div className=\"max-w-2xl mx-auto space-y-6\">\r\n          <div className=\"bg-gray-300 dark:bg-gray-700 p-4 rounded-lg shadow-md\">\r\n            <textarea\r\n              className=\"w-full p-2 border border-gray-400 dark:border-gray-600 rounded-lg\"\r\n              placeholder=\"What's on your mind?\"\r\n              value={newPost}\r\n              onChange={(e) => setNewPost(e.target.value)}\r\n            />\r\n            <button\r\n              className=\"mt-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n              onClick={handleCreatePost}\r\n            >\r\n              Post\r\n            </button>\r\n          </div>\r\n\r\n          {posts.map((post) => (\r\n            <div\r\n              key={post.id}\r\n              className=\"bg-gray-300 dark:bg-gray-700 p-4 rounded-lg shadow-md\"\r\n            >\r\n              <div className=\"flex items-center gap-4\">\r\n                <Image\r\n                  src=\"/default-avatar.png\"\r\n                  alt=\"User Avatar\"\r\n                  width={40}\r\n                  height={40}\r\n                  className=\"rounded-full\"\r\n                />\r\n                <div>\r\n                  <h2 className=\"font-bold\">User {post.user_id}</h2>\r\n                </div>\r\n              </div>\r\n              <p className=\"mt-4\">{post.content}</p>\r\n              {post.image_url && (\r\n                <Image\r\n                  src={`${process.env.NEXT_PUBLIC_API_URL}${post.image_url}`}\r\n                  alt=\"Post Image\"\r\n                  width={500}\r\n                  height={300}\r\n                  className=\"rounded-lg mt-4\"\r\n                />\r\n              )}\r\n              <div className=\"mt-4 flex gap-4\">\r\n                <button\r\n                  className=\"text-blue-600 hover:underline\"\r\n                  onClick={() => handleLike(post.id)}\r\n                >\r\n                  Like ({post.likes})\r\n                </button>\r\n                <button className=\"text-red-600 hover:underline\">\r\n                  Dislike ({post.dislikes})\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}