{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/joaov/OneDrive/%C3%81rea%20de%20Trabalho/programa%C3%A7%C3%A3o/trilha/miniprojeto3/front/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Image from \"next/image\";\n\ninterface Post {\n  id: number;\n  content: string;\n  user_id: number;\n  image_url?: string;\n  likes: number;\n  dislikes: number;\n}\n\nexport default function Home() {\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [newPost, setNewPost] = useState(\"\");\n\n  useEffect(() => {\n    fetch(`${process.env.NEXT_PUBLIC_API_URL}/posts/feed`)\n      .then((response) => response.json())\n      .then((data) => setPosts(data))\n      .catch((error) => console.error(\"Error fetching posts:\", error));\n  }, []);\n\n  const handleCreatePost = () => {\n    fetch(`${process.env.NEXT_PUBLIC_API_URL}/posts`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ content: newPost }),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setPosts((prevPosts) => [data, ...prevPosts]);\n        setNewPost(\"\");\n      })\n      .catch((error) => console.error(\"Error creating post:\", error));\n  };\n\n  const handleLike = (postId: number) => {\n    fetch(`${process.env.NEXT_PUBLIC_API_URL}/posts/${postId}/like`, {\n      method: \"POST\",\n    })\n      .then(() => {\n        setPosts((prevPosts) =>\n          prevPosts.map((post) =>\n            post.id === postId ? { ...post, likes: post.likes + 1 } : post\n          )\n        );\n      })\n      .catch((error) => console.error(\"Error liking post:\", error));\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-200 text-gray-800 dark:bg-gray-800 dark:text-gray-200\">\n      <header className=\"bg-gray-300 dark:bg-gray-700 shadow-md p-4 flex items-center justify-between\">\n        <h1 className=\"text-xl font-bold\">Trilhagram</h1>\n      </header>\n\n      <main className=\"p-4 sm:p-8\">\n        <div className=\"max-w-2xl mx-auto space-y-6\">\n          <div className=\"bg-gray-300 dark:bg-gray-700 p-4 rounded-lg shadow-md\">\n            <textarea\n              className=\"w-full p-2 border border-gray-400 dark:border-gray-600 rounded-lg\"\n              placeholder=\"What's on your mind?\"\n              value={newPost}\n              onChange={(e) => setNewPost(e.target.value)}\n            />\n            <button\n              className=\"mt-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\n              onClick={handleCreatePost}\n            >\n              Post\n            </button>\n          </div>\n\n          {posts.map((post) => (\n            <div\n              key={post.id}\n              className=\"bg-gray-300 dark:bg-gray-700 p-4 rounded-lg shadow-md\"\n            >\n              <div className=\"flex items-center gap-4\">\n                <Image\n                  src=\"/default-avatar.png\"\n                  alt=\"User Avatar\"\n                  width={40}\n                  height={40}\n                  className=\"rounded-full\"\n                />\n                <div>\n                  <h2 className=\"font-bold\">User {post.user_id}</h2>\n                </div>\n              </div>\n              <p className=\"mt-4\">{post.content}</p>\n              {post.image_url && (\n                <Image\n                  src={`${process.env.NEXT_PUBLIC_API_URL}${post.image_url}`}\n                  alt=\"Post Image\"\n                  width={500}\n                  height={300}\n                  className=\"rounded-lg mt-4\"\n                />\n              )}\n              <div className=\"mt-4 flex gap-4\">\n                <button\n                  className=\"text-blue-600 hover:underline\"\n                  onClick={() => handleLike(post.id)}\n                >\n                  Like ({post.likes})\n                </button>\n                <button className=\"text-red-600 hover:underline\">\n                  Dislike ({post.dislikes})\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAce,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,6DAAmC,WAAW,CAAC,EAClD,IAAI,CAAC,CAAC,WAAa,SAAS,IAAI,IAChC,IAAI,CAAC,CAAC,OAAS,SAAS,OACxB,KAAK,CAAC,CAAC,QAAU,QAAQ,KAAK,CAAC,yBAAyB;IAC7D,GAAG,EAAE;IAEL,MAAM,mBAAmB;QACvB,MAAM,6DAAmC,MAAM,CAAC,EAAE;YAChD,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE,SAAS;YAAQ;QAC1C,GACG,IAAI,CAAC,CAAC,WAAa,SAAS,IAAI,IAChC,IAAI,CAAC,CAAC;YACL,SAAS,CAAC,YAAc;oBAAC;uBAAS;iBAAU;YAC5C,WAAW;QACb,GACC,KAAK,CAAC,CAAC,QAAU,QAAQ,KAAK,CAAC,wBAAwB;IAC5D;IAEA,MAAM,aAAa,CAAC;QAClB,MAAM,6DAAmC,OAAO,EAAE,OAAO,KAAK,CAAC,EAAE;YAC/D,QAAQ;QACV,GACG,IAAI,CAAC;YACJ,SAAS,CAAC,YACR,UAAU,GAAG,CAAC,CAAC,OACb,KAAK,EAAE,KAAK,SAAS;wBAAE,GAAG,IAAI;wBAAE,OAAO,KAAK,KAAK,GAAG;oBAAE,IAAI;QAGhE,GACC,KAAK,CAAC,CAAC,QAAU,QAAQ,KAAK,CAAC,sBAAsB;IAC1D;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBAAG,WAAU;8BAAoB;;;;;;;;;;;0BAGpC,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,WAAU;oCACV,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;8CAE5C,8OAAC;oCACC,WAAU;oCACV,SAAS;8CACV;;;;;;;;;;;;wBAKF,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;gCAEC,WAAU;;kDAEV,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,6HAAA,CAAA,UAAK;gDACJ,KAAI;gDACJ,KAAI;gDACJ,OAAO;gDACP,QAAQ;gDACR,WAAU;;;;;;0DAEZ,8OAAC;0DACC,cAAA,8OAAC;oDAAG,WAAU;;wDAAY;wDAAM,KAAK,OAAO;;;;;;;;;;;;;;;;;;kDAGhD,8OAAC;wCAAE,WAAU;kDAAQ,KAAK,OAAO;;;;;;oCAChC,KAAK,SAAS,kBACb,8OAAC,6HAAA,CAAA,UAAK;wCACJ,KAAK,+DAAqC,KAAK,SAAS,EAAE;wCAC1D,KAAI;wCACJ,OAAO;wCACP,QAAQ;wCACR,WAAU;;;;;;kDAGd,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,WAAU;gDACV,SAAS,IAAM,WAAW,KAAK,EAAE;;oDAClC;oDACQ,KAAK,KAAK;oDAAC;;;;;;;0DAEpB,8OAAC;gDAAO,WAAU;;oDAA+B;oDACrC,KAAK,QAAQ;oDAAC;;;;;;;;;;;;;;+BAjCvB,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;AA0C1B","debugId":null}}]
}